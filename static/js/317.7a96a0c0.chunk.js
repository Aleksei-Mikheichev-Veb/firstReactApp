"use strict";(self.webpackChunkfirst_education_project=self.webpackChunkfirst_education_project||[]).push([[317],{4890:function(e,n,r){r.r(n),r.d(n,{default:function(){return q}});var t=r(5671),o=r(3144),s=r(136),u=r(2882),i=r(8687),a=r(2791),l=r(946),c={title:"Users_title__W6LUt",user:"Users_user__s8xA1",user__user:"Users_user__user__UBelc",user__description:"Users_user__description__cPnJF",user__left:"Users_user__left__ZW6rU",user__right:"Users_user__right__FmYzT",avatar:"Users_avatar__EY8Er"},f=r(885),p="Pagination_pagination__6dGIb",g="Pagination_current_page__4OLka",h="Pagination_other_page__mteaT",d=r(184),_=function(e){for(var n=e.totalItemsCount,r=e.pageSize,t=e.currentPage,o=e.onChangePage,s=e.portionSize,u=void 0===s?10:s,i=Math.ceil(n/r),l=[],c=1;c<=i;c++)l.push(c);var _=Math.ceil(i/u),v=(0,a.useState)(1),m=(0,f.Z)(v,2),w=m[0],P=m[1],j=(w-1)*u+1,x=w*u;return(0,d.jsxs)("div",{className:p,children:[w>1&&(0,d.jsx)("button",{onClick:function(){P(w-1)},children:"PREV"}),l.filter((function(e){return e>=j&&e<=x})).map((function(e){return(0,d.jsx)("span",{onClick:function(){o(e)},className:"".concat(t===e&&g," ").concat(h),children:e})})),_>w&&(0,d.jsx)("button",{onClick:function(){P(w+1)},children:"NEXT"})]})},v=r.p+"static/media/user.44c934cd4bb23704ad5b.jpg",m=r(3504),w=function(e){var n=e.id,r=e.photos,t=e.followed,o=e.name,s=e.status,u=e.followingInProgress,i=e.unFollow,a=e.follow;return(0,d.jsxs)("div",{className:c.user,children:[(0,d.jsxs)("div",{className:c.user__user,children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.OL,{to:"/profile/"+n,children:(0,d.jsx)("img",{src:null!=r.small?r.small:v,className:c.avatar})})}),(0,d.jsx)("div",{children:t?(0,d.jsx)("button",{disabled:u.some((function(e){return e===n})),onClick:function(){i(n)},children:"Unfollow"}):(0,d.jsx)("button",{disabled:u.some((function(e){return e===n})),onClick:function(){a(n)},children:"Follow"})})]}),(0,d.jsxs)("div",{className:c.user__description,children:[(0,d.jsxs)("div",{className:c.user__left,children:[(0,d.jsx)("div",{className:c.user__name,children:o}),(0,d.jsx)("div",{className:c.user__status,children:s})]}),(0,d.jsx)("div",{className:c.user__right})]})]})},P=function(e){return(0,d.jsxs)("div",{className:c.users,children:[(0,d.jsx)("div",{className:c.pagination,children:(0,d.jsx)(_,{totalItemsCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,onChangePage:e.onChangePage})}),(0,d.jsx)("div",{className:c.title,children:"Users"}),(0,d.jsx)("div",{className:c.users__container,children:e.users.map((function(n){return(0,d.jsx)(w,{id:n.id,photos:n.photos,followingInProgress:e.followingInProgress,unFollow:e.unFollow,follow:e.follow,followed:n.followed,name:n.name,status:n.status})}))})]})},j=r(1468),x=r(7781),y="NOT_FOUND";var C=function(e,n){return e===n};function F(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,o=void 0===t?C:t,s=r.maxSize,u=void 0===s?1:s,i=r.resultEqualityCheck,a=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,o=0;o<t;o++)if(!e(n[o],r[o]))return!1;return!0}}(o),l=1===u?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:y},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(a):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var o=r[t];return t>0&&(r.splice(t,1),r.unshift(o)),o.value}return y}return{get:t,put:function(n,o){t(n)===y&&(r.unshift({key:n,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,a);function c(){var n=l.get(arguments);if(n===y){if(n=e.apply(null,arguments),i){var r=l.getEntries(),t=r.find((function(e){return i(e.value,n)}));t&&(n=t.value)}l.put(arguments,n)}return n}return c.clearCache=function(){return l.clear()},c}function b(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function k(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var o=function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var s,u=0,i={memoizeOptions:void 0},a=t.pop();if("object"===typeof a&&(i=a,a=t.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var l=i,c=l.memoizeOptions,f=void 0===c?r:c,p=Array.isArray(f)?f:[f],g=b(t),h=e.apply(void 0,[function(){return u++,a.apply(null,arguments)}].concat(p)),d=e((function(){for(var e=[],n=g.length,r=0;r<n;r++)e.push(g[r].apply(null,arguments));return s=h.apply(null,e)}));return Object.assign(d,{resultFunc:a,memoizedResultFunc:h,dependencies:g,lastResult:function(){return s},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),d};return o}var N=k(F),S=N((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),U=function(e){return e.usersPage.totalCount},z=function(e){return e.usersPage.pageSize},I=function(e){return e.usersPage.currentPage},E=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followingInProgress},Z=function(e){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(e=n.call.apply(n,[this].concat(s))).componentDidMount=function(){e.props.requestUsers(e.props.currentPage,e.props.pageSize)},e.onChangePage=function(n){e.props.requestUsers(n,e.props.pageSize)},e}return(0,o.Z)(r,[{key:"render",value:function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.Z,{isFetching:this.props.isFetching}),(0,d.jsx)(P,{users:this.props.users,totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,follow:this.props.follow,unFollow:this.props.unFollow,onChangePage:this.onChangePage,followingInProgress:this.props.followingInProgress,toggleFollowingInProgress:this.props.toggleFollowingInProgress})]})}}]),r}(a.Component),q=(0,x.qC)((0,i.$j)((function(e){return{users:S(e),totalCount:U(e),pageSize:z(e),currentPage:I(e),isFetching:E(e),followingInProgress:A(e)}}),{follow:l.ZN,unFollow:l.IJ,followSuccess:l.GF,unFollowSuccess:l.is,getTotalCount:U,setCurrentPage:l.D4,toggleFollowingInProgress:l.n_,requestUsers:l.D7}))(Z)}}]);
//# sourceMappingURL=317.7a96a0c0.chunk.js.map